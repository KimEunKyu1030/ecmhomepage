<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ks_c_5601-1987">
		<link href="./default.css" type="text/css" rel="stylesheet">
		<script type="text/javascript" src="./default.js"></script>
	</head>
	
	<body class="bdstyle" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
	  <!-- Page Title -->
	  <div id="areafixed" class="bdstyleTitle">
	    <div class="title">MPCA
	    <div class="version"></div>
	    </div>
	    <hr class="headerLine">
  	</div>
    <!-- Page Title -->
    
    
    <!-- Begin Client Area -->
    <div id="areascroll" class="bdstyleBody">
	    <p>
    	<div class="node"><img src="./images/MPCA/node_modeling_mpca.png"></div>
    	<div class="nodeexplain">
			<span class="nodeExHighlight">다중주성분분석(Multiway Principal Component Analysis)</span>은 <span class="nodeExHighlight">PCA(Principal Component Analysis)</span>에서 파생된 <span class="nodeExHighlight">다변량 자료분석기법</span> 방법론입니다.
    	</div>
    	<div style="clear: both;"></div>

    </p>
    
    <hr class="nodeLine">
    
    <a href="#개요">개요</a>,
    <a href="#고려사항">고려사항</a>,
    <a href="#사용법">사용법</a>,
    <a href="#속성">속성</a>,
    <a href="#결과">결과</a>
		
		
    
    <a name="개요"><h3>개요</h3></a>

    <ul class="liType02">
		<li><span class="genExHighlight">PCA</span>는 우수한 자료분석기법이지만 순차적으로 수집되는 data를 해석하기에 적합하지 않다는 단점이 있습니다. <span class="genExHighlight">MPCA</span>는 기존의 PCA에 <span class="genExHighlight">순차적 data 수집을 고려한 확장된 개념의 PCA</span>라고 할 수 있습니다.</li>
		<li><span class="genExHighlight">MPCA</span>의 핵심 개념은 <span class="genExHighlight">"Unfolding"</span>입니다. <span class="genExHighlight">3 차원 배열 형식의 원본 batch data set</span>을 3 개 방향 중 한 방향으로 펼쳐 놓음으로써 <span class="genExHighlight">2 차원 배열 형식의 분석용 data set</span>을 구성합니다.</li>
		<img src="./images/MPCA/mpca_unfolding_2.png">
		<li><span class="genExHighlight">MPCA 모델링 노드</span>를 동작하기 위해서는 필수적으로 <span class="genExHighlight">원본 batch data set</span>에 대한 <span class="genExHighlight">unfolding</span> 과정이 선행되어야 합니다. 해당 과정은 <span class="genExHighlight">원본 batch data set</span>에 대하여 <span class="genExHighlight">전처리 노드, 피봇 노드</span> 등의 기능들을 이용하여 수행하도록 합니다.</li>
		<li><span class="genExHighlight">Unfolding</span> 과정을 거친 후 만들어진 <span class="genExHighlight">분석용 data set</span>을 얻었다면, 이후의 과정은 <span class="genExHighlight">PCA</span>와 동일합니다.
  		<li><span class="genExHighlight">분석용 data set</span>(다변량자료)에 대해서 <span class="genExHighlight">PCA</span>와 동일하게 자료간의 변동을 변수들의 선형결합들로 이루어진 새로운 변수(주성분)로 나타냅니다.</li>
		<li>관측치 n개, 독립변수 k개인 input matrix X를 A(≤k)개의 <span class="genExHighlight">PCs(Principal Components, 주요성분)</span>으로 분해합니다. </li>
		<p>			
    	<img src="./images/modeling_pcaintro.gif">
		<p><img src="./images/pca001.gif">는 score, <img src="./images/pca002.jpg">는 weight라 부릅니다. (h는 임의의 수)<br>(주의: 개수를 뜻하는 문자 이외의 소문자는 벡터, 대문자는 행렬을 뜻합니다.)</p>
  		</p>

  	</ul>

  	
  	<a name="고려사항"><h3>고려사항</h3></a>
    <ul class="liType02">
  		<li><span class="genExHighlight">독립변수</span>만 입력되어야 하며 연속형이어야 합니다.</li>
		<li><span class="genExHighlight">Unfolding</span>을 수행하여 <span class="genExHighlight">분석용 data set</span>을 구성하는 과정에서 필수적으로 아래 형식에 맞추어 변수들이 생성되어야 합니다.</li>
			<ol class="liType02">
				<li>Batch를 구성하는 time steps에 따라 값이 변하는 변수의 경우 <span class="genExHighlight">"(원본 변수명)_MPCA(time steps 숫자)"</span>의 형태로 하나의 batch를 구성하는 time steps 숫자만큼 생성되어야 합니다.<br>
				예를 들어, 하나의 batch를 구성하는 time steps의 개수가 100 개인 원본 batch data set에 대하여, time steps 마다 변화하는 trend를 가지는 data columns 중 "VAR" 이라는 이름의 변수명을 가지는 column이 있다면, <span class="genExHighlight">unfolding</span> 수행 시 <span class="genExHighlight">"VAR_MPCA001", "VAR_MPCA001", ... , "VAR_MPCA100"</span>의 data columns가 만들어져야 합니다.</li>
				<li>Batch를 구성하는 time steps의 개수는 <span class="genExHighlight">unfolding</span> 시 time steps에 따라 변하는 모든 변수들에 대하여 동일하게 적용되어야 합니다.<br>
				즉, 각각의 원본 변수에 대하여 <span class="genExHighlight">unfolding</span> 수행 후 <span class="genExHighlight">분석용 data set</span>에서 만들어지는 변수들(위 예시의 원본 변수명 <span class="genExHighlight">"VAR"</span>에 대해서 만들어지는 변수들은 <span class="genExHighlight">"VAR_MPCA001", "VAR_MPCA001", ... , "VAR_MPCA100"</span>)은 모두 동일한 형식 및 개수만큼 생성되어야 합니다.</li>
				<li>Time steps에 따라 변하지 않는 변수들(각 batch에 대해서는 서로 다른 값을 가지나 time steps에 대해서는 변하지 않는 변수들 포함)의 경우 위의 과정이 수정되지 않도록 합니다.</li>
				<li><span class="genExHighlight">분석용 data set</span>을 구성하는 모든 batch에 대해서 위의 과정들이 일괄적으로 동일하게 적용되어야 합니다.</li>
			</ol>
		<li><span class="genExHighlight">MPCA 모델링 노드</span> 자체에 표준화 전처리과정을 포함하고 있습니다.</li>
		<li><span class="genExHighlight">MPCA 모델링 노드</span>는 일반적인 모델링 노드(PCA 포함)와는 달리 분산이 0인 변수 data에 대하여 예외 처리를 수행하지 않습니다.</li>
  	</ul>
  	
  	<a name="사용법"><h3>사용법</h3></a>
    <ul class="liType02">
  		<li><span class="genExHighlight">입력노드</span>를 통해 데이터를 읽어들입니다.<br>
		이 때 입력노드를 통해 입력되는 데이터는 전처리 및 <span class="genExHighlight">unfolding</span>이 완료된 <span class="genExHighlight">분석용 data set</span> 이어야 합니다.</li>
  		<li><span class="genExHighlight">MPCA 모델링 노드</span>를 <span class="genExHighlight">입력노드</span>에 연결하고 옵션들을 선택합니다. </li>
  		<li><span class="genExHighlight">MPCA DIAGRAM</span> 예시는 아래와 같습니다.</li>
  		<p>			
    	<img src="./images/MPCA/use_modeling_mpca.png">
  		</p>
  	</ul>
			
		
    <a name="속성"><h3>속성</h3></a>
		<table class="tbStyle01">
			<thead>
				<tr>
					<th width="60">속성그룹</th>
					<th width="100">속성명</th>
					<th width="">설명</th>
					<th width="60">기타</th>
					<th width="60">비고</th>
				</tr>
			</thead>
			
				<tr>
					<th rowspan="2">일반정보</th>
					<td>이름</td>
					<td>노드의 이름을 입력합니다.</td>
					<td>선택</td>
					<td></td>
				</tr>
				<tr>
					<td>설명</td>
					<td>노드에 대한 간단한 주석을 달 수 있습니다.</td>
					<td>선택</td>
					<td></td>
				</tr>
				<tr>
					<th rowspan="2">모델파일</th>
					<td>모델파일 생성</td>
					<td>모델링 후에 모델 파일을 생성할지의 여부를 선택합니다.</td>
					<td>필수</td>
					<td>예, 아니오</td>
				</tr>
				<tr>
					<td>모델파일 경로</td>
					<td>모델 파일을 생성할시 저장할 모델 파일의 경로를 선택합니다.</td>
					<td>조건부 필수</td>
					<td></td>
				</tr>
				<tr>
					<th rowspan="3">선택사항</th>
					<td>결과보기</td>
					<td>Control Chart, Trend Chart, Loading Plot, T-Square Plot, Scree Plot, Residual Plot, Contribution Plot을 보여줍니다.</td>
					<td>클릭</td>
					<td>모델링 후 클릭</td>
				</tr>
				<tr>
					<td>주성분수</td>
					<td>주성분수를 입력합니다.</td>
					<td>필수</td>
					<td>독립변수 수보다 작은 자연수</td>
				</tr>
				<tr>
					<td>전처리방법</td>
					<td>입력자료 전처리방법을 결정합니다.</td>
					<td>필수</td>
					<td>표준화, 평균보정</td>
				</tr>		
				
		</table>


		<h3><a name="결과">결과</a></h3>
		<ul class="liType02">
			<p>(1)	분석을 실행한 Diagram 상에서 MPCA 노드를 클릭해서 노드 속성창의 <span class="genExHighlight">결과보기</span>버튼을 누르면 다음 결과들이 출력됩니다. 새로 추가된 <span class="genExHighlight">Time Step Chart</span>를 제외하면 기존 PCA 결과보기와 동일합니다.</p>
			<br>		

			<li><span class="genExHighlight">Control Chart</span></li>
			<p>Control Chart를 통해 이상치 및 조업편차를 확인할 수 있습니다.</p>
			<p> <img src="./images/model_pca_controlchart.jpg">	</p>
			<br>
			
			<li><span class="genExHighlight">Time Step Chart</span></li>
			<p><span class="genExHighlight">분석용 data set</span>의 각각의 batch에 대하여 time steps가 진행됨에 따른 Control Chart 상의 위치 변화를 확인할 수 있습니다.<br>
			확인하고자 하는 batch는 화면 맨 위의 scroll bar를 이용하여 선택할 수 있습니다.<br>
			scroll bar 위의 <span class="genExHighlight">"Trend"</span> button을 click하면 time steps에 따른 원본 data set 변수의 trend를 확인할 수 있는 <span class="genExHighlight">Trend Chart</span>가 출력됩니다.<br>
			Trend Chart 좌측 Combo Box를 이용하여 확인하고자 하는 변수를 선택 후 Combo Box 아래의 "Redraw" button을 click하면 해당 변수의 trend를 출력합니다.<br>
			Trend Chart 상의 붉은 선은 MPCA 모델링 노드에 입력된 모든 batch들에 대한 해당 변수의 평균값의 time steps에 따른 trend입니다.<br>
			</p>
			<p> <img src="./images/MPCA/mpca_time_step_chart_2.png">	</p>
			<br>
			
			<li><span class="genExHighlight">Loading Plot</span></li>
			<p>Loading plot은 선택된 두 개의 원 데이터 혹은 주성분의 loading값에 대한 정보를 제공합니다.</p>
			<p> <img src="./images/model_pca_loadingPlot.jpg">	</p>
			<br>			

			<li><span class="genExHighlight">T-Square plot</span></li>
			<p>T-Square값은 현재의 상태가 얼마나 극단적인 값을 갖는지를 나타내는 척도입니다. 즉, 변수 중에서 특이하게 큰 값이 있을경우 T-Square값이 커지게 되며, 표시된 Guide Line을 넘는 데이터는 이상치로 판단할 수 있습니다.</p>
			<p> <img src="./images/model_pca_TSquarePlot.jpg">	</p>
			<br>
	
			<li><span class="genExHighlight">Residual plot</span></li>
			<p>Residual 값은 데이터가 축소 공간과 얼마나 떨어져 있는 가를 나타내는 척도입니다. 이 값이 커질수록 현재의 데이터와 축소 공간 사이의 거리가 멀다는 것을 나타내며, 표시된 Guide Line을 넘는 데이터는 이상치로 판단할 수 있습니다.</p>
			<p><img src="./images/model_pca_ResidualPlot.jpg">	</p>
			<br>

			<li><span class="genExHighlight">Scree Plot</span></li>
			<p>Scree plot은 각 주성분에 대한 Eigenvalue값을 표시한 것입니다. Scree plot은 주성분의 수를 결정하는 하나의 방법으로 Eigenvalue값의 변화가 급격히 이루어지는 에서 주성분의 수를 결정할 수 있습니다.</p>
			<p><img src="./images/model_pca_ScreePlot.jpg">	</p>
			<br>

			<li><span class="genExHighlight">Contribution plot</span></li>
			<p>사용자가 추출한 데이터의 편차에 영향을 주는 변수의 공헌도를 보여줍니다.</p>
			<p><img src="./images/model_pca_ContributionPlot.jpg">	</p>
			<br>
			
			<li><span class="genExHighlight">Contribution plot 도출 방법 및 해석</span></li>			
			<p><img src="./images/model_pca_ContributionPlot_01.jpg">	</p>
			<p>1. control chart에서 편차가 커 보이는 두 그룹을 분석 목표로 정한 후, 우선 첫번째 그룹을 위 그림에서 보이는 것과 같이 ①처럼 드래그 한 뒤, ②버튼을 클릭해서 앞서 드래그한 테이터를 추출합니다. 두 번째 그룹에도 같은 과정을 반복합니다.</p>
			<p>2. 데이터 선택이 끝났으면 Contribution Plot 부분으로 가서 공헌도를 파악하고 싶은 주성분과, 그룹 데이터를 선택합니다. 선택 후 그리기 버튼을 누르면 아래와 같은 Contribution Plot이 출력됩니다.</p>
			<p>위의 Contribution Plot을 보면 주성분 1에서 group 1 편차에 많은 영향을 주는 변수는 25, 27, 38, 39, 42번 변수임을 알 수 있습니다. 이 plot에서 빨간색으로 표시되는 변수는 양의 관계를 가지는 변수이며, 파란색으로 표시되는 변수는 음의 관계를 가지는 변수입니다. 즉 위에서 추출된 25, 27, 38, 39, 42번 변수는 전부 빨간색으로 표시되어 있으며, 이는 양의 공헌도를 가짐을 의미합니다.</p>
			<br>

			<li><span class="genExHighlight">Data chart</span></li>
			<p>Data chart는chart와 분석에 이용된 data를 동시에 보여줌으로써, data와 chart의 매칭 기능을 제공합니다. 또한 여러 차트를 한번에 볼수 있어 비교도 가능합니다.</p>
			<p><img src="./images/model_pca_Datachart.jpg">	</p>
			<p>상단의 데이터 슬라이드바를 이용하여 데이터와 차트를 매칭시킬 수 있습니다. 이를 이용하여 데이터의 진행 방향을 파악할 수 있습니다. 또한 우측 상단에 차트별로 버튼이 구성되어 있어서 버튼을 누르면 여러 개의 차트를 한눈에 파악할 수 있습니다.</p>
			<br>
			<br>			

			
			<p>(2) 분석결과정보</p>
			<p>화면표시 노드에서 각 주성분의 Score값과 T-square값을 파악할 수 있습니다.</p>			
			<p><img src="./images/MPCA/mpca_modeling_result.png"></p>
		</ul>		


		
		<hr class="footerLine">
		<p class="footer">
	</div>
	</body>
</html>
